<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Alignment model filters &mdash; OpusFilter 0.1.dev1+g542fcde documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Sentence embedding filters" href="sentence_embedding_filters.html" />
    <link rel="prev" title="Language model filters" href="language_model_filters.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> OpusFilter
          </a>
              <div class="version">
                0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Get started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../command_line_tools.html">Other command line tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Available functions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../functions/downloading_and_selecting_data.html">Downloading and selecting data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions/preprocessing_text.html">Preprocessing text</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions/filtering_and_scoring.html">Filtering and scoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions/using_score_files.html">Using score files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions/training_language_and_alignment_models.html">Training language and alignment models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions/training_and_using_classifiers.html">Training and using classifiers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Available filters</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="length_filters.html">Length filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="script_and_language_identification_filters.html">Script and language identification filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="special_character_and_similarity_filters.html">Special character and similarity filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="language_model_filters.html">Language model filters</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Alignment model filters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#wordalignfilter">WordAlignFilter</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sentence_embedding_filters.html">Sentence embedding filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_filters.html">Custom filters</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Available preprocessors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../preprocessors/tokenizer.html">Tokenizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preprocessors/detokenizer.html">Detokenizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preprocessors/whitespaceNormalizer.html">WhitespaceNormalizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preprocessors/reg_exp_sub.html">RegExpSub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preprocessors/monolingual_sentence_splitter.html">MonolingualSentenceSplitter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preprocessors/bpe_segmentation.html">BPESegmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preprocessors/morfessor_segmentation.html">MorfessorSegmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preprocessors/custom_preprocessors.html">Custom preprocessors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../references.html">Citing and references</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOG.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OpusFilter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Alignment model filters</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="alignment-model-filters">
<h1>Alignment model filters<a class="headerlink" href="#alignment-model-filters" title="Permalink to this heading"></a></h1>
<section id="wordalignfilter">
<h2>WordAlignFilter<a class="headerlink" href="#wordalignfilter" title="Permalink to this heading"></a></h2>
<p>Filter segments by word aligment scores using eflomal
<span id="id1">[<a class="reference internal" href="../references.html#cite-ostling-tiedemann-2016-efficient" title="Robert Östling and Jörg Tiedemann. Efficient word alignment with Markov Chain Monte Carlo. Prague Bulletin of Mathematical Linguistics, 106:125–146, October 2016. URL: http://ufal.mff.cuni.cz/pbml/106/art-ostling-tiedemann.pdf.">Östling and Tiedemann, 2016</a>]</span>.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src_threshold</span></code>: score threshold for source language (default 0)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tgt_threshold</span></code>: score threshold for target language (default 0)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src_tokenizer</span></code>: tokenizer for source language (optional; default <code class="docutils literal notranslate"><span class="pre">null</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tgt_tokenizer</span></code>: tokenizer for target language (optional; default <code class="docutils literal notranslate"><span class="pre">null</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">model</span></code>: eflomal model type (optional; default 3)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">priors</span></code>: priors for the aligment (optional; default <code class="docutils literal notranslate"><span class="pre">null</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">score_for_empty</span></code>: score values for empty input pairs (default -100)</p></li>
</ul>
<p>A segment pair is accepted if scores for both directions are lower
than the corresponding thresholds.</p>
<p>The supported tokenizers are listed in <a class="reference internal" href="../preprocessors/tokenizer.html#tokenizer"><span class="std std-ref">Tokenizer</span></a>. For
example, to enable Moses tokenizer, provide a tuple containing <code class="docutils literal notranslate"><span class="pre">moses</span></code>
and an appropriate two-letter language code, e.g. <code class="docutils literal notranslate"><span class="pre">[moses,</span> <span class="pre">en]</span></code> for
English.</p>
<p>The eflomal model types are 1 for IBM1, 2 for IBM1 + HMM, and 3 for
IBM1 + HMM + fertility. See <a class="reference external" href="https://github.com/robertostling/eflomal">github.com/robertostling/eflomal</a>
for details.</p>
<p>See <a class="reference internal" href="../functions/training_language_and_alignment_models.html#train-aligment"><span class="std std-ref">train_aligment</span></a> for training priors. Compatible
tokenizer and model parameters should be used.</p>
<p><strong>Caveats:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">eflomal</span></code> is a stochastic method and two runs will not produce exactly
the same result. Thus, if you include it in your pipeline, full
replicability of the end result is not possible.</p>
<p>Moreover, <code class="docutils literal notranslate"><span class="pre">eflomal</span></code> estimates the model parameters using the input
data, even if you provide the priors file. In consequence, the size of
the input matters, and aligning the same data in chunks will not
provide the same results as aligning all at once. Thus the following
<em>may</em> give worse results than expected:</p>
<ul class="simple">
<li><p>Using <code class="docutils literal notranslate"><span class="pre">score</span></code> if input size is larger than <code class="docutils literal notranslate"><span class="pre">chunksize</span></code> (default 100000)</p></li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">filter</span></code> with <code class="docutils literal notranslate"><span class="pre">filterfalse</span></code> on if input size is larger than <code class="docutils literal notranslate"><span class="pre">chunksize</span></code> (default 100000)</p></li>
<li><p>Using parallel processing (<code class="docutils literal notranslate"><span class="pre">n_jobs</span></code> &gt; 1) for <code class="docutils literal notranslate"><span class="pre">score</span></code> or <code class="docutils literal notranslate"><span class="pre">filter</span></code> regardless of the other options</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="language_model_filters.html" class="btn btn-neutral float-left" title="Language model filters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="sentence_embedding_filters.html" class="btn btn-neutral float-right" title="Sentence embedding filters" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>